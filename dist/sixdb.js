!function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=0)}([function(e,r,n){"use strict";n.r(r);var t={init:function(){this.blockRgx=/\(.*?(?=\))/g,this.blockOperatorRgx=/[\&\|]+(?=(\s*\())/g,this.operatorRgx=/(=|>|<|>=|<=|!=|<>|\^|\$|~~)+/g,this.rightOperandRgx=/(?:([=><\^\$~]))\s*["']?[^"']+["']?\s*(?=[&\|])|(?:[=><\^\$~])\s*["']?[^"']+["']?(?=$)/g,this.leftOperandRgx=/([^"'\s])(\w+)(?=\s*[=|>|<|!|\^|\$~])/g},makeConditionsBlocksArray:function(e){var r=this,n=[],t=e.match(r.blockRgx),o=e.match(r.blockOperatorRgx)?e.match(r.blockOperatorRgx):null;if(!t)return r.pushConditionBlockToArray(e,null,n),n;r.deleteLeftParentheses(t),o&&(o="&"==o||"&&"==o?"and":"or");for(var a=0;a<t.length;a++)r.pushConditionBlockToArray(t[a],o,n);return n},deleteLeftParentheses:function(e){for(var r=e.length,n=0;n<r;n++)e[n]=e[n].substr(1)},pushConditionBlockToArray:function(e,r,n){for(var t=this,o=e.match(t.leftOperandRgx),a=e.match(t.rightOperandRgx),c=0;c<a.length;c++){for(;a[c][0].match(/[=><!\^\$~]/g);)a[c]=a[c].substr(1);a[c]=a[c].replace(/["']/g,"").trim()}for(var u=0;u<a.length;u++)e=e.replace(a[u],"");var s=e.match(t.operatorRgx),i=[];if(1==o.length)i.push({keyPath:o[0],cond:s[0],value:a[0]}),n.push({conditionsArray:i,internalLogOperator:null,externalLogOperator:r}),i=null;else{var l=e.match(/[\&\|]+/g)[0];l="&"==l||"&&"==l?"and":"or";for(var d=0;d<s.length;d++)i.push({keyPath:o[d],cond:s[d],value:a[d]});n.push({conditionsArray:i,internalLogOperator:l,externalLogOperator:r}),i=null}},testConditionBlock:function(e,r,n){for(var t="and"==n||!n,o=0;o<r.length;o++){if(t=this.testCondition(e.value[r[o].keyPath],r[o].cond,r[o].value),!("and"!=n&&n||t))return!1;if("or"==n&&t)return!0}return t},testCondition:function(e,r,n){var t;switch(r){case"=":t=e==n;break;case">":t=e>n;break;case"<":t=e<n;break;case">=":t=e>=n;break;case"<=":t=e<=n;break;case"!=":t=e!=n;break;case"<>":if("string"!=typeof e)return!1;t=-1!=e.indexOf(n);break;case"^":if("string"!=typeof e)return!1;t=0==e.indexOf(n);break;case"$":if("string"!=typeof e)return!1;t=e.indexOf(n)==e.length-n.length;break;case"~~":try{t=se(e,n)}catch(e){t=!1}}return t}},o={begin:"//---------------------------------------\x3e"};function a(e,r){ce&&!r||(r?console.error(e):console.log(e))}var c=!0,u=[];function s(){if(0==u.length)return c=!0,void a("No pending tasks");c=!1;var e=u[0];e.type?(a("Custom task"+o.begin),e.fn.apply(e.context,e.args),i()):e.fn.apply(this,e.args)}function i(){u.shift(),s()}function l(){c&&s()}var d={};function f(e,r){var n={};return r&&(n.type=r.name,n.origin=e,n.description=r.message),d=n,!0}var g=t,p={};function v(e,r,n){f(e,r),u.shift(),ae.close(),n(d),a(d,!0)}function b(e){e.value[p.property]&&(p.counter++,p.actualValue=p.aggregatefn(p.actualValue,e.value[p.property],p.counter))}function h(){a("Result of ".concat(p.origin,' on property "').concat(p.property,'": ').concat(p.actualValue))}function y(e){p=e}function k(e,r,n,t){n(e,r),ae.close(),a(t),i()}function x(e,r,n){ae.close(),f(e,r),a(d,!0),u.shift(),n(d),s()}function C(e,r,n){var t=null;try{t=r.getAll()}catch(r){return v(e,r,n),null}return t}function m(e,r,n){var t=null;try{t=r.openCursor()}catch(r){return v(e,r,n),null}return t}function S(e){e?(function(e,r,n){var t=!1,o=0,a=e.length;for(o=0;o<a;o++){var c=e[o].conditionsArray,u=e[o].internalLogOperator;if((t=g.testConditionBlock(n,c,u))==r)break}return t}(p.conditionsBlocksArray,p.exitsInFirstTrue,e)&&p.cursorFunction(e),e.continue()):(p.successCallback(p.event,p.origin,p.query),ae.close(),p.logFunction(),i())}function O(e){p.resultFiltered.push(e.value),p.counter++}function w(e){e.delete(),p.counter++}function A(){p.counter++}function F(e){for(var r=e.value,n=0,t=p.newObjectValuesSize;n<t;n++)r[p.keys[n]]="function"==typeof p.objectValues[p.keys[n]]?p.objectValues[p.keys[n]](r[p.keys[n]]):p.objectValues[p.keys[n]];e.update(r),p.counter++}function B(){a('Processed query finished: "'.concat(p.query,'"\n ').concat(p.counter,' records counted from the query to: "').concat(p.source,'"'))}function I(){a('Processed query: "'.concat(p.query,'" finished\n ').concat(p.counter,' records returned from object store "').concat(p.source,'"'))}function j(e,r,n,t){var o=null;try{o=r.getAll(n)}catch(r){return v(e,r,t),null}return o}function q(e){var r=!1;return e&&(r="number"==typeof e||!e.match(g.operatorRgx)),r}function P(e,r){var n=m(p.origin,e,r);n?(n.onsuccess=function(e){S(e.target.result)},n.onerror=function(){x(origin,n.error,r)}):s()}var T=null,R="",L="",D=t;function V(e,r){T=null;try{var n=ae.transaction(R,r).objectStore(R);T=n.index(L)}catch(r){f(e,r),a(d,!0)}i()}function M(e,r){var n={args:[e,r],fn:V};u.push(n)}function N(e,r){var n="Index.getAll()";a(n+o.begin);var t=C(n,T,r);t?(t.onsuccess=function(r){k(r.target.result,n,e,'All records returned from index "'.concat(L,'"'))},t.onerror=function(){x(n,t.error,r)}):s()}function $(e,r,n){var t="Index.get()";if(a(t+o.begin),q(e))!function(e,r,n){var t="Index.getByKey()";a(t+o.begin);var c=j(t,T,e,n);if(!c)return void s();c.onsuccess=function(n){r(n.target.result,t,e),ae.close(),a('Records with key "'.concat(e,'" returned from index "').concat(L,'"')),i()},c.onerror=function(){x(t,c.error,n)}}(e,r,n);else{var c=[],u=D.makeConditionsBlocksArray(e),l=u?u[0].externalLogOperator:null;y({counter:0,source:L,extMode:l,event:c,resultFiltered:c,origin:t,query:e,conditionsBlocksArray:u,exitsInFirstTrue:null!=l&&"and"!=l,logFunction:I,cursorFunction:O,successCallback:r});var d=m(t,T,n);d?(d.onsuccess=function(e){S(e.target.result)},d.onerror=function(){x(t,d.error,n)}):s()}}function _(e,r,n){if(a("Index.count()"+o.begin),e){var t=D.makeConditionsBlocksArray(e),c=t?t[0].externalLogOperator:null;y({counter:0,get event(){return this.counter},source:L,extMode:c,origin:"Index.count()",query:e,conditionsBlocksArray:t,exitsInFirstTrue:null!=c&&"and"!=c,logFunction:B,cursorFunction:A,successCallback:r}),P(T,n)}else!function(e,r){var n="Index.countAll()";a(n+o.begin);var t=T.count();t.onsuccess=function(r){var t="".concat(r.target.result,' records in index "').concat(L,'"');k(r.target.result,n,e,t)},t.onerror=function(){x(n,t.error,r)}}(r,n)}function K(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue,t=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,u=c.query,l=c.errorCallback,d=void 0===l?ue:l;a(t+o.begin);var f={origin:t,property:e,aggregatefn:r,successCallback:n,errorCallback:d};u?function(e,r){var n=r.origin,t=r.property,o=r.aggregatefn,a=r.successCallback,c=r.errorCallback;q(e)&&(e=T.keyPath+"="+e);var u=D.makeConditionsBlocksArray(e),i=u?u[0].externalLogOperator:null;y({counter:0,actualValue:null,get event(){return this.actualValue},property:t,aggregatefn:o,extMode:i,origin:n,query:e,conditionsBlocksArray:u,exitsInFirstTrue:null!=i&&"and"!=i,logFunction:h,cursorFunction:b,successCallback:a});var l=m(n,T,c);if(!l)return void s();l.onsuccess=function(e){var r=e.target.result;S(r)},l.onerror=function(){x(n,l.error,c)}}(u,f):function(e){var r=e.origin,n=e.property,t=e.aggregatefn,o=e.successCallback,c=e.errorCallback,u=null,l=0,d=m(r,T,c);if(!d)return void s();d.onsuccess=function(e){var c=e.target.result;c?(c.value[n]&&(l++,u=t(u,c.value[n],l)),c.continue()):(o(u,r),ae.close(),a("Result of ".concat(r,' on property "').concat(n,'": ').concat(u)),i())},d.onerror=function(){x(r,d.error,c)}}(f)}var z,E=function(e,r){R=e,L=r,this.name=r,this.getAll,this.get,this.count,this.aggregateFn};E.prototype.getAll=function(e){var r={args:[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue],fn:N};u.push(ie),M("Index.getAll()","readonly"),u.push(r)},E.prototype.get=function(e,r){var n={args:[e,r,arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue],fn:$};u.push(ie),M("Index.get()","readonly"),u.push(n)},E.prototype.count=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.query,t=r.errorCallback,o={args:[n,e,void 0===t?ue:t],fn:_};u.push(ie),M("Index.count()","readonly"),u.push(o)},E.prototype.aggregateFn=function(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={property:e,successCallback:n,aggregatefn:r,origin:"Index.aggregateFn()",query:t.query,errorCallback:t.errorCallback};u.push(ie),M("initStore","readonly"),function(e){var r=e.property,n=e.successCallback,t=[r,e.aggregatefn,n,e.origin,{query:e.query,errorCallback:e.errorCallback}];u.push({args:t,fn:K})}(o)};var Y=t;function G(e,r,n){z=null;try{z=ae.transaction(r,n).objectStore(r)}catch(r){f(e,r),a(d,!0)}i()}function H(e,r,n){var t={args:[e,r,n],fn:G};u.push(t)}function J(e,r,n){var t,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=(c.unique,c.successCallback),s=void 0===u?ue:u,l=c.errorCallback,d=void 0===l?ue:l,f="Store.newIndex()";a(f+o.begin),t=ae.version,ae.close();var g=t+1,p=window.indexedDB.open(oe,g);p.onupgradeneeded=function(t){var o=t.target.result;le(o);var c,u=null,s=t.target.transaction;try{u=s.objectStore(e)}catch(e){return void x(f,e,d)}u.indexNames.contains(r)?(o.close(),a('The index "'.concat(r,'" already exists in store "').concat(e,'"')),i()):u.createIndex(r,n,((c={}).unique,c))},p.onsuccess=function(n){k(n,f,s,'Index "'.concat(r,'" created in store "').concat(e,'"'))},p.onerror=function(){x(f,p.error,d)}}function Q(e,r){var n=r.successCallback,t=void 0===n?ue:n,c=r.errorCallback,u=void 0===c?ue:c;a("Store.add()"+o.begin);var s={obj:e,origin:"Store.add()",successCallback:t,errorCallback:u};Array.isArray(e)?function(e){var r=e.obj,n=e.origin,t=e.successCallback,o=e.errorCallback,a=r.length,c=0,u=function(){var e=z.add(r[c]);c++,e.onerror=function(){x(n,e.error,o)}};for(;c<a;)u();k(event,n,t,'New record/s added to store "'.concat(z.name,'"'))}(s):function(e){var r=e.obj,n=e.origin,t=e.successCallback,o=e.errorCallback,a=z.add(r);a.onsuccess=function(e){k(e,n,t,'New record/s added to store "'.concat(z.name,'"'))},a.onerror=function(e){x(n,e.target.error,o)}}(s)}function U(e,r){var n=null,t="Store.getAll()";a(t+o.begin);(n=C(t,z,r))?(n.onsuccess=function(r){k(r.target.result,t,e,'All records returned from store "'.concat(z.name,'"'))},n.onerror=function(){x(t,n.error,r)}):s()}function W(e,r,n){var t="Store.get()";if(a(t+o.begin),q(e))!function(e,r,n){var t,c="Store.getByKey()";a(c+o.begin);if(!(t=j(c,z,e,n)))return void s();t.onsuccess=function(n){r(n.target.result,c,e),ae.close(),a('Records with key "'.concat(e,'" returned from store "').concat(z.name,'"')),i()},t.onerror=function(){x(c,t.error,n)}}(e,r,n);else{var c=[],u=Y.makeConditionsBlocksArray(e),l=u?u[0].externalLogOperator:null,d=null!=l&&"and"!=l;y({counter:0,source:z.name,extMode:l,event:c,resultFiltered:c,origin:t,query:e,conditionsBlocksArray:u,exitsInFirstTrue:d,logFunction:I,cursorFunction:O,successCallback:r});var f=m(t,z,n);f?(f.onsuccess=function(e){S(e.target.result)},f.onerror=function(){x(t,f.error,n)}):s()}}function X(e,r,n){var t="Store.del()";if(a(t+o.begin),q(e))!function(e,r,n){var t="Store.delByKey()";a(t+o.begin);var c=z.delete(e);c.onsuccess=function(n){r(n,t,e),ae.close(),a('Records with primary key "'.concat(e,'" deleted from store "').concat(z.name,'"')),i()},c.onerror=function(){x(t,c.error,n)}}(e,r,n);else{var c=null,u=Y.makeConditionsBlocksArray(e),l=u?u[0].externalLogOperator:null,d=null!=l&&"and"!=l;y({counter:0,extMode:l,source:z.name,event:event,origin:t,query:e,conditionsBlocksArray:u,exitsInFirstTrue:d,logFunction:I,cursorFunction:w,successCallback:r}),(c=m(t,z,n))?(c.onsuccess=function(e){S(e.target.result)},c.onerror=function(){x(t,c.error,n)}):s()}}function Z(e,r,n){if(a("Store.count()"+o.begin),e){var t=Y.makeConditionsBlocksArray(e),c=t?t[0].externalLogOperator:null,u=null!=c&&"and"!=c;y({counter:0,get event(){return this.counter},source:z.name,extMode:c,origin:"Store.count()",query:e,conditionsBlocksArray:t,exitsInFirstTrue:u,logFunction:B,cursorFunction:A,successCallback:r}),P(z,n)}else!function(e,r){var n="Store.countAll()";a(n+o.begin);var t=z.count();t.onsuccess=function(r){var t="".concat(r.target.result,' records in store "').concat(z.name,'"');k(r.target.result,n,e,t)},t.onerror=function(){x(n,t.error,r)}}(r,n)}function ee(e,r,n,t){var c,u="Store.delIndex()";a(u+o.begin),c=ae.version,ae.close();var s=c+1,i=window.indexedDB.open(oe,s);i.onupgradeneeded=function(n){le(n.target.result);var o=null,a=n.target.transaction;try{o=a.objectStore(e)}catch(e){return void x(u,e,t)}o.deleteIndex(r)},i.onsuccess=function(t){k(t,u,n,'Index "'.concat(r,'" deleted from object store "').concat(e,'"'))},i.onerror=function(){x(u,i.error,t)}}function re(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue,t=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,u=c.query,l=c.errorCallback,d=void 0===l?ue:l;a(t+o.begin);var f={origin:t,property:e,aggregatefn:r,successCallback:n,errorCallback:d};u?function(e,r){var n=r.origin,t=r.property,o=r.aggregatefn,a=r.successCallback,c=r.errorCallback;q(e)&&(e=z.keyPath+"="+e);var u=Y.makeConditionsBlocksArray(e),i=u?u[0].externalLogOperator:null;y({counter:0,actualValue:null,get event(){return this.actualValue},property:t,aggregatefn:o,extMode:i,origin:n,query:e,conditionsBlocksArray:u,exitsInFirstTrue:null!=i&&"and"!=i,logFunction:h,cursorFunction:b,successCallback:a});var l=m(n,z,c);if(!l)return void s();l.onsuccess=function(e){var r=e.target.result;S(r)},l.onerror=function(){x(n,l.error,c)}}(u,f):function(e){var r=e.origin,n=e.property,t=e.aggregatefn,o=e.successCallback,c=e.errorCallback,u=null,l=0,d=m(r,z,c);if(!d)return void s();d.onsuccess=function(e){var c=e.target.result;c?(c.value[n]&&(l++,u=t(u,c.value[n],l)),c.continue()):(o(u,r),ae.close(),a("Result of ".concat(r,' on property "').concat(n,'": ').concat(u)),i())},d.onerror=function(){x(r,d.error,c)}}(f)}function ne(e,r,n){var t=n.successCallback,c=n.errorCallback;a("Store.update()"+o.begin),q(e)&&(e=z.keyPath+"="+e);var u=Y.makeConditionsBlocksArray(e),s=u?u[0].externalLogOperator:null,i=null!=s&&"and"!=s;y({counter:0,keys:Object.keys(r),newObjectValuesSize:Object.keys(r).length,extMode:s,objectValues:r,event:event,origin:"Store.update()",query:e,conditionsBlocksArray:u,exitsInFirstTrue:i,logFunction:I,cursorFunction:F,successCallback:t}),P(z,c)}var te=function(e){this.name=e,this.newIndex,this.openIndex,this.delIndex,this.add,this.getAll,this.get,this.del,this.count,this.aggregateFn,this.update};te.prototype.newIndex=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=n.unique,o=n.successCallback,a=n.errorCallback,c={args:[this.name,e,r,{unique:t,successCallback:o,errorCallback:a}],fn:J};u.push(ie),u.push(c)},te.prototype.openIndex=function(e){return new E(this.name,e)},te.prototype.add=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={args:[e,{successCallback:r.successCallback,errorCallback:r.errorCallback}],fn:Q};u.push(ie),H("store.add(...)",this.name,"readwrite"),u.push(n)},te.prototype.getAll=function(e){var r={args:[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue],fn:U};u.push(ie),H("store.getAll()",this.name,"readonly"),u.push(r)},te.prototype.get=function(e,r){var n={args:[e,r,arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue],fn:W};u.push(ie),H("store.get()",this.name,"readonly"),u.push(n)},te.prototype.del=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.successCallback,t=void 0===n?ue:n,o=r.errorCallback,a={args:[e,t,void 0===o?ue:o],fn:X};u.push(ie),H("store.del()",this.name,"readwrite"),u.push(a)},te.prototype.count=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.query,t=r.errorCallback,o={args:[n,e,void 0===t?ue:t],fn:Z};u.push(ie),H("store.count()",this.name,"readonly"),u.push(o)},te.prototype.delIndex=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.successCallback,t=void 0===n?ue:n,o=r.errorCallback,a=void 0===o?ue:o,c={args:[this.name,e,t,a],fn:ee};u.push(ie),u.push(c)},te.prototype.aggregateFn=function(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={property:e,successCallback:n,aggregatefn:r,origin:"Store.aggregateFn()",query:t.query,errorCallback:t.errorCallback};u.push(ie),H("initStore",this.name,"readonly"),function(e){var r=e.property,n=e.successCallback,t=[r,e.aggregatefn,n,e.origin,{query:e.query,errorCallback:e.errorCallback}];u.push({args:t,fn:re})}(o)},te.prototype.update=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=n.successCallback,o=void 0===t?ue:t,a=n.errorCallback,c={args:[e,r,{successCallback:o,errorCallback:void 0===a?ue:a}],fn:ne};u.push(ie),H("initStore()",this.name,"readwrite"),u.push(c)},n.d(r,"customOperator",function(){return se}),n.d(r,"consoleOff",function(){return ce}),n.d(r,"db",function(){return ae}),n.d(r,"newStore",function(){return de}),n.d(r,"dbName",function(){return oe}),n.d(r,"tkOpen",function(){return ie}),n.d(r,"setDb",function(){return le}),n.d(r,"voidFn",function(){return ue});var oe,ae=null,ce=!1,ue=function(){return 0},se=function(e,r){return e==r};var ie={args:null,fn:function(){var e=window.indexedDB.open(oe);e.onerror=function(){alert("Error. You must allow web app to use indexedDB.")},e.onsuccess=function(e){ae=e.target.result,i()}}};function le(e){ae=e}function de(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.keyPath,c=n.autoIncrement,u=n.successCallback,s=n.errorCallback,l="Sixdb.newStore()";if(a(l+o.begin),ae.objectStoreNames.contains(e))return ae.close(),a('Object store "'.concat(e,'" already exists')),void i();r=ae.version,ae.close();var d,f=r+1,g=window.indexedDB.open(oe,f);g.onupgradeneeded=function(r){ae=r.target.result;try{d=ae.createObjectStore(e,{keyPath:t,autoIncrement:c})}catch(e){return void x(l,e,s)}d.onerror=function(e){x(l,e.target.error,s)}},g.onsuccess=function(r){k(r,l,u,'New object store "'.concat(e,'" created'))}}function fe(e,r){var n=r.successCallback,t=r.errorCallback,c="Sixdb.delStore()";a(c+o.begin);var u=ae.version;ae.close();var s=u+1,i=window.indexedDB.open(oe,s);i.onupgradeneeded=function(r){(ae=r.target.result).deleteObjectStore(e)},i.onsuccess=function(r){k(r,c,n,'Object store "'.concat(e,'" deleted'))},i.onerror=function(){x(c,i.error,t)}}function ge(e){var r=e.successCallback,n=e.errorCallback,t="Sixdb.destroy()";a(t+o.begin);var c=window.indexedDB.deleteDatabase(oe);c.onerror=function(){x(t,c.error,n)},c.onsuccess=function(e){r(e,t),a('Database "'.concat(oe,'" deleted')),i()}}window.Sixdb=function(e){oe=e;var r,n,c=t;function s(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=window.indexedDB.open(oe);a("Sixdb.newDB()"+o.begin);var r=!1;e.onupgradeneeded=function(){r=!0},e.onsuccess=function(e){e.target.result.close(),a('Database "'.concat(oe,r?'" created':'" already exists')),i()}}this.name,this.setConsoleOff,this.customTask,this.aggregateFuncs,this.execTasks,this.setCustomOperator,this.newStore,this.openStore,this.delStore,this.destroy,c.init(),n={args:[r],fn:s},u.push(n),l()},Sixdb.prototype.name=function(){return oe},Sixdb.prototype.setConsoleOff=function(e){ce=ce},Sixdb.prototype.customTask=function(e,r,n){var t=[];if(n)for(var o=2,a=arguments.length;o<a;o++)t[2-o]=arguments[o];var c={type:"custom",fn:e,context:r,args:t};u.push(c)},Sixdb.prototype.aggregateFuncs={sum:function(e,r){return e+r},avg:function(e,r,n){return(e*(n-1)+r)/n},max:function(e,r){return r>e?r:e},min:function(e,r,n){return 1==n&&(e=r),r<e&&n>1?r:e}},Sixdb.prototype.setCustomOperator=function(e){e&&"function"==typeof e&&2==e.length&&(se=e)},Sixdb.prototype.execTasks=function(){l()},Sixdb.prototype.newStore=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={args:[e,{keyPath:r.keyPath,autoIncrement:r.autoIncrement,successCallback:r.successCallback,errorCallback:r.errorCallback}],fn:de};u.push(ie),u.push(n)},Sixdb.prototype.openStore=function(e){return new te(e)},Sixdb.prototype.delStore=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.successCallback,t=void 0===n?ue:n,o=r.errorCallback,a={args:[e,{successCallback:t,errorCallback:void 0===o?ue:o}],fn:fe};u.push(ie),u.push(a)},Sixdb.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.successCallback,n=void 0===r?ue:r,t=e.errorCallback,o={args:[{successCallback:n,errorCallback:void 0===t?ue:t}],fn:ge};u.push(o)}}]);